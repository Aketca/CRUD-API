(()=>{var e={738:(e,s,t)=>{const n=t(147),r=t(17),i=t(37),o=t(968).version,a=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function d(e){console.log(`[dotenv@${o}][DEBUG] ${e}`)}const c={config:function(e){let s=r.resolve(process.cwd(),".env"),t="utf8";const o=Boolean(e&&e.debug),a=Boolean(e&&e.override);var l;e&&(null!=e.path&&(s="~"===(l=e.path)[0]?r.join(i.homedir(),l.slice(1)):l),null!=e.encoding&&(t=e.encoding));try{const e=c.parse(n.readFileSync(s,{encoding:t}));return Object.keys(e).forEach((function(s){Object.prototype.hasOwnProperty.call(process.env,s)?(!0===a&&(process.env[s]=e[s]),o&&d(!0===a?`"${s}" is already defined in \`process.env\` and WAS overwritten`:`"${s}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[s]=e[s]})),{parsed:e}}catch(e){return o&&d(`Failed to load ${s} ${e.message}`),{error:e}}},parse:function(e){const s={};let t,n=e.toString();for(n=n.replace(/\r\n?/gm,"\n");null!=(t=a.exec(n));){const e=t[1];let n=t[2]||"";n=n.trim();const r=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===r&&(n=n.replace(/\\n/g,"\n"),n=n.replace(/\\r/g,"\r")),s[e]=n}return s}};e.exports.config=c.config,e.exports.parse=c.parse,e.exports=c},147:e=>{"use strict";e.exports=require("fs")},37:e=>{"use strict";e.exports=require("os")},17:e=>{"use strict";e.exports=require("path")},968:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.0.3","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"require":"./lib/main.js","types":"./lib/main.d.ts","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@types/node":"^17.0.9","decache":"^4.6.1","dtslint":"^3.7.0","sinon":"^12.0.1","standard":"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2","tap":"^15.1.6","tar":"^6.1.11","typescript":"^4.5.4"},"engines":{"node":">=12"}}')}},s={};function t(n){var r=s[n];if(void 0!==r)return r.exports;var i=s[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{"use strict";var e=t(738);const s=require("http"),n=(e,s,t)=>{e.statusCode=s,e.end(JSON.stringify(t))},r=(e,s)=>new Promise((t=>{let r="";e.on("data",(e=>{r+=e.toString()})),e.on("end",(()=>{try{let e=JSON.parse(r);t(e)}catch(e){n(s,500,"Data parsing error")}}))})),i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&i.test(e)},a=require("crypto");var d=t.n(a);const c={randomUUID:d().randomUUID},l=new Uint8Array(256);let p=l.length;function u(){return p>l.length-16&&(d().randomFillSync(l),p=0),l.slice(p,p+=16)}const f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));const g=function(e,s,t){if(c.randomUUID&&!s&&!e)return c.randomUUID();const n=(e=e||{}).random||(e.rng||u)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,s){t=t||0;for(let e=0;e<16;++e)s[t+e]=n[e];return s}return function(e,s=0){return(f[e[s+0]]+f[e[s+1]]+f[e[s+2]]+f[e[s+3]]+"-"+f[e[s+4]]+f[e[s+5]]+"-"+f[e[s+6]]+f[e[s+7]]+"-"+f[e[s+8]]+f[e[s+9]]+"-"+f[e[s+10]]+f[e[s+11]]+f[e[s+12]]+f[e[s+13]]+f[e[s+14]]+f[e[s+15]]).toLowerCase()}(n)};let v=[];var h=function(e,s,t,n){return new(t||(t=Promise))((function(r,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function a(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var s;e.done?r(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(o,a)}d((n=n.apply(e,s||[])).next())}))};const m=new class{getAllUsers(e){process.env.CLUSTER_MODE?(process.send({msg:"getAllUsers",pid:process.pid}),process.on("message",(({database:s})=>{n(e,200,s)}))):n(e,200,v)}getUser(e,s,t){return h(this,void 0,void 0,(function*(){if(o(t)||n(s,400,"Uuid is not valid"),process.env.CLUSTER_MODE)process.send({msg:"getAllUsers",pid:process.pid}),process.on("message",(({database:e})=>{if(n(s,200,e),e.find((e=>e.id===t))){let r=e.find((e=>e.id===t));n(s,200,r)}else n(s,404,"User with this id not found")}));else if(!process.env.CLUSTER_MODE)if(v.find((e=>e.id===t))){let e=v.find((e=>e.id===t));n(s,200,e)}else n(s,404,"User with this id not found")}))}createUser(e,s){return h(this,void 0,void 0,(function*(){try{let t=yield r(e,s);if(t.hasOwnProperty("username")&&t.hasOwnProperty("age")&&t.hasOwnProperty("hobbies")){const e={id:g(),username:t.username,age:t.age,hobbies:t.hobbies};process.env.CLUSTER_MODE?process.send({msg:"createUser",addedUser:e,pid:process.pid}):v.push(e),n(s,201,e)}else n(s,400,"Request does not contain required fields")}catch(e){n(s,500,"Incorrect request data")}}))}updateUser(e,s,t){return h(this,void 0,void 0,(function*(){if(o(t)){if(process.env.CLUSTER_MODE)process.send({msg:"getAllUsers",pid:process.pid}),process.on("message",(({database:i})=>h(this,void 0,void 0,(function*(){if(i.find((e=>e.id===t)))try{let o=[...i],a=yield r(e,s),d=Object.assign(Object.assign({},o.find((e=>e.id===t))),a),c=o.findIndex((e=>e.id===t));o[c]=d,process.send({msg:"updateAllDb",db:o,pid:process.pid}),n(s,200,d)}catch(e){n(s,500,"Incorrect request data")}else n(s,404,"User with this id not found")}))));else if(!process.env.CLUSTER_MODE)if(v.find((e=>e.id===t)))try{let i=yield r(e,s),o=Object.assign(Object.assign({},v.find((e=>e.id===t))),i),a=v.findIndex((e=>e.id===t));v[a]=o,n(s,200,o)}catch(e){n(s,500,"Incorrect request data")}else n(s,404,"User with this id not found")}else n(s,400,"Uuid is not valid")}))}deleteUser(e,s,t){if(o(t)){if(process.env.CLUSTER_MODE)process.send({msg:"getAllUsers",pid:process.pid}),process.on("message",(({database:e})=>{let r=[...e];if(r.find((e=>e.id===t))){let e=r.findIndex((e=>e.id===t));r.splice(e,1),process.send({msg:"updateAllDb",db:r,pid:process.pid}),n(s,204,"User record deleted")}else n(s,404,"User with this id not found")}));else if(!process.env.CLUSTER_MODE)if(v.find((e=>e.id===t))){let e=v.findIndex((e=>e.id===t));v.splice(e,1),n(s,204,"User record deleted")}else n(s,404,"User with this id not found")}else n(s,400,"Uuid is not valid")}},U=(0,s.createServer)(((e,s)=>{s.setHeader("Access-Control-Allow-Origin","*"),s.setHeader("Content-Type","application/json"),((e,s)=>{const{url:t,method:r}=e;if("/api/users"!==t&&"/api/users/"!==t||"GET"!==r)if(t.startsWith("/api/users/")&&"GET"===r){let n=t.replace("/api/users/","");m.getUser(e,s,n)}else if("/api/users"!==t&&"/api/users/"!==t||"POST"!==r)if(t.startsWith("/api/users/")&&"PUT"===r){let n=t.replace("/api/users/","");m.updateUser(e,s,n)}else if(t.startsWith("/api/users/")&&"DELETE"===r){let n=t.replace("/api/users/","");m.deleteUser(e,s,n)}else n(s,500,"Not found");else m.createUser(e,s);else m.getAllUsers(s)})(e,s)}));e.config();const b=process.env.PORT;U.listen(b)})()})();